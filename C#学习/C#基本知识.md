# C#基本知识

## 基本结构

```c#
using System; // 告诉编辑器这程序使用了System命名控件的类型
namespace Simple // 声明了一个新的命名空间， 名称为Simple, 在该部分里声明的任何类型都是该命名空间的成员
{
    // 声明一个新的类类型，名为Program
    class Program
    {
        /*
        	声明一个名为Main的方法作为类Program的成员
        	Main是一个特殊函数，编译器用它作为程序的起始点
        */
        static void Main()
        {
            // 使用命名空间System中的类Console中的WriteLine方法成员
            Console.WriteLine("Hi there");
        }
    }
}
```

> [!IMPORTANT]
>
> C#程序由一个或多个类型声明组成
>
> **命名空间**是与某个名称相关联的一组类型声明



## 标识符

**标识符**是一种字符串，用来命名变量、方法、参数和其他程序结构

规则：

1. 字母和下划线(a-z,A-Z和_)可以用在任何位置
2. 数字不能放在首位，可以放在其他任何地方
3. @字符只能放在标识符首位(虽然允许使用，但不推荐将@作为常用字符)

> [!WARNING]
>
> 标识符区分大小写的。例如，变量名`myVar`和`MyVar`是不同的标识符



## Main函数

每个C#程序必须有一个类带有Main函数

规则：

1. 每个C#程序的可执行起始点在Main中的第一条指令
2. Main必须首字母大写

```c#
static void Main()
{
    // 实现语句
}
```



## 格式字符串

```c#
string str = string.Format("这里有{0}班，每个班有{1}人", 10, 40);
// 字符串插值
int var1 = 3;
int var2 = 6;
string str2 = $"Two sample integers are {var1} and {var2}."
// 简单用法
Console.WriteLine("Two sample integers are {0} and {1}.", 3, 6);
/* 
  多重标记和值 -- 在C#中，可以使用任意数量的替代标记和任意数量的值
  .值可以以任何顺序使用
  .值可以在格式字符串中替换任意次
*/
Console.WriteLine("Two sample integers are {1}, {0} and {1}.", 3, 6);
```



## 格式化数字字符串

语法：

```c#
{index, alignment:format}
// index --索引 必填： 指定列表中的某一项
// alignment --对齐说明符 可选： 指点字符宽度，已经是否是右对齐或左对齐
// format --格式字段 可选：指定项的格式
```

格式字段由三部分组成：

1. 冒号后面必须跟着格式说明符，中间不能右空格
2. **格式说明符**是一个字母字符，是9个内置字符格式之一。字符可以大写小写，有的字符区分大小写、有的字符不区分大小写
3. **精准度说明符**是可选的，由1~2个数字组成。实际意义取决于格式说明符

格式字段默认值为G

示例：

```C#
string str = string.Format("{0:F4}", 12.345678);
Console.WriteLine(str);
// 12.3456
Console.WriteLine("{0}", 12.345678)
// 12.345678
```

格式说明符：

|    名字    | 字符 | 是否区分大小写 | 意义                                                         | 精度说明符                                                   |
| :--------: | :--- | :------------: | ------------------------------------------------------------ | ------------------------------------------------------------ |
|    货币    | C、c |       N        | 使用货币符号把值格式化为货币，货币符号取决于程序所在的PC的区域设置 | 小数位数                                                     |
|  十进制数  | D、d |       N        | 十进制数字字符串，需要的情况下有负数符号。只能和整数类型配合使用 | 输出字符串中的最小位数。如果实际数字的位数更小，则在左边以0填充 |
|    定点    | F、f |       N        | 带有小数点的十进制数字字符串。需要的情况下有负数符号。会四舍五入 | 小数的位数                                                   |
|    常规    | G、g |       N        | 在没有指定说明符的情况下，会根据值转换位定点或科学记数法表示的紧凑形式。会四舍五入 | 根据值                                                       |
| 十六进制数 | X、x |       Y        | 十六进制数字的字符串。十六进制数字A~F会匹配说明符的大小写形式 | 输出字符串中的最小位数。如果实际数的位数更少，则在左边以0填充 |
|    数值    | N、n |       N        | 与定点表示法相似，不过每隔三个数字中间有逗号或者空格隔开。从小数点开始往左数。使用空格还是逗号取决于程序所在的PC的区域设置 | 小数的位数                                                   |
|   百分比   | P、p |       N        | 表示百分比的字符串。数字会乘以100。会四舍五入                | 小数的位数                                                   |
|  往返过程  | R、r |       N        | 保证输出字符串猴如果使用Parse方法将字符串转化成数字，该值和原始值一样。s | 忽略                                                         |
| 科学记数法 | E、e |       Y        | 具有尾数和指数的科学计数法。指数前面加字母E。E的大小写和说明符大小写一致 | 小数的位数                                                   |

示例：

```C#
// 货币
Console.WriteLine("{0:C}", 12.34);
// 输出 -- ￥12.34

// 十进制
Console.WriteLine("{0:D}", 12);
// 输出 -- 0012

// 定点
Console.WriteLine("{0:F4}", 12.3456789);
// 输出 -- 12.3457

// 常规
Console.WriteLine("{0:G4}", 12.3456789);
// 输出 -- 12.35

// 十六进制
Console.WriteLine("{0:x}", 180026);
// 输出 -- 2bf3a

// 数字
Console.WriteLine("{0:N2}", 12345678.54321);
// 输出 -- 12，345，678.54

// 百分比
Console.WriteLine("{0:P2}", 0.1221897);
// 输出 -- 12.22%

// 科学计数法
Console.WriteLine("{0:e2}", 12.3456789);
// 输出 -- 1.23456e+0.01
```

